<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Do NOT implement this yourself! Use the macro `interchange!`."><meta name="keywords" content="rust, rustlang, rust-lang, Interchange"><title>Interchange in interchange - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../interchange/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait Interchange</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#associated-types">Associated Types</a></h3><div class="sidebar-links"><a href="#associatedtype.REQUEST">REQUEST</a><a href="#associatedtype.RESPONSE">RESPONSE</a></div><h3 class="sidebar-title"><a href="#associated-const">Associated Constants</a></h3><div class="sidebar-links"><a href="#associatedconstant.CLIENT_CAPACITY">CLIENT_CAPACITY</a></div><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.claim">claim</a><a href="#tymethod.reset_claims">reset_claims</a><a href="#tymethod.unclaimed_clients">unclaimed_clients</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="index.html">interchange</a></h2><div id="sidebar-vars" data-name="Interchange" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="index.html">interchange</a>::<wbr><a class="trait" href="#">Interchange</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/interchange/lib.rs.html#192-236" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait Interchange: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> {
    type <a href="#associatedtype.REQUEST" class="type">REQUEST</a>: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>;
    type <a href="#associatedtype.RESPONSE" class="type">RESPONSE</a>: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>;

    const <a href="#associatedconstant.CLIENT_CAPACITY" class="constant">CLIENT_CAPACITY</a>: usize;

    fn <a href="#tymethod.claim" class="fnname">claim</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="struct.Requester.html" title="struct interchange::Requester">Requester</a>&lt;Self&gt;, <a class="struct" href="struct.Responder.html" title="struct interchange::Responder">Responder</a>&lt;Self&gt;)&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.unclaimed_clients" class="fnname">unclaimed_clients</a>() -&gt; usize;
<div class="item-spacer"></div>    unsafe fn <a href="#tymethod.reset_claims" class="fnname">reset_claims</a>();
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Do NOT implement this yourself! Use the macro <code>interchange!</code>.</p>
<p>Also, DO NOT use the doc(hidden) methods, if the public API in Requester
and Responder are not sufficient for your needs, this means the abstraction
is not good enough, and must be fixed here, in <code>interchange</code>.</p>
<p>At compile time, the client capacity is set by using the appropriate call
to the <code>interchange!</code> macro. The application can then repeatedly call <code>claim</code>
to obtain these clients.</p>
</div></details><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><div id="associatedtype.REQUEST" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/interchange/lib.rs.html#194" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.REQUEST" class="type">REQUEST</a>: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a></h4></div><div id="associatedtype.RESPONSE" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/interchange/lib.rs.html#195" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.RESPONSE" class="type">RESPONSE</a>: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a></h4></div></div><h2 id="associated-const" class="small-section-header">Associated Constants<a href="#associated-const" class="anchor"></a></h2><div class="methods"><div id="associatedconstant.CLIENT_CAPACITY" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/interchange/lib.rs.html#193" title="goto source code">[src]</a></div><h4 class="code-header">const <a href="#associatedconstant.CLIENT_CAPACITY" class="constant">CLIENT_CAPACITY</a>: usize</h4></div></div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.claim" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/interchange/lib.rs.html#200" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.claim" class="fnname">claim</a>() -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="struct.Requester.html" title="struct interchange::Requester">Requester</a>&lt;Self&gt;, <a class="struct" href="struct.Responder.html" title="struct interchange::Responder">Responder</a>&lt;Self&gt;)&gt;</h4></div></summary><div class="docblock"><p>This is the constructor for a <code>(Requester, Responder)</code> pair.</p>
<p>Returns singleton static instances until all that were allocated are
used up, thereafter, <code>None</code> is returned.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.unclaimed_clients" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/interchange/lib.rs.html#203" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.unclaimed_clients" class="fnname">unclaimed_clients</a>() -&gt; usize</h4></div></summary><div class="docblock"><p>Method for debugging: how many allocated clients have not been claimed.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.reset_claims" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/interchange/lib.rs.html#214" title="goto source code">[src]</a></div><h4 class="code-header">unsafe fn <a href="#tymethod.reset_claims" class="fnname">reset_claims</a>()</h4></div></summary><div class="docblock"><p>Method purely for testing - do not use in production</p>
<p>Rationale: In production, interchanges are supposed to be set up
as global singletons during intialization. In testing however, multiple
test cases are run serially; without this reset, such tests would need
to allocate an extremely large amount of clients.</p>
<p>It does not work to put this behind a feature flag, as macro expansion
happens at call site and can’t see the feature.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../implementors/interchange/trait.Interchange.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="interchange" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>