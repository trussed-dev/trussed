<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Requirements on an implementation of the base field."><meta name="keywords" content="rust, rustlang, rust-lang, FieldImplementation"><title>FieldImplementation in salty - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../salty/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait FieldImplementation</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#associated-types">Associated Types</a></h3><div class="sidebar-links"><a href="#associatedtype.Limbs">Limbs</a></div><h3 class="sidebar-title"><a href="#associated-const">Associated Constants</a></h3><div class="sidebar-links"><a href="#associatedconstant.APLUS2_OVER_FOUR">APLUS2_OVER_FOUR</a><a href="#associatedconstant.D">D</a><a href="#associatedconstant.D2">D2</a><a href="#associatedconstant.EDWARDS_BASEPOINT_X">EDWARDS_BASEPOINT_X</a><a href="#associatedconstant.EDWARDS_BASEPOINT_Y">EDWARDS_BASEPOINT_Y</a><a href="#associatedconstant.I">I</a><a href="#associatedconstant.MONTGOMERY_BASEPOINT_U">MONTGOMERY_BASEPOINT_U</a><a href="#associatedconstant.ONE">ONE</a><a href="#associatedconstant.ZERO">ZERO</a></div><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.from_bytes_unchecked">from_bytes_unchecked</a><a href="#tymethod.inverse">inverse</a><a href="#tymethod.pow2523">pow2523</a><a href="#tymethod.to_bytes">to_bytes</a></div><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.from_bytes">from_bytes</a><a href="#method.from_unreduced_bytes">from_unreduced_bytes</a><a href="#method.parity">parity</a><a href="#method.squared">squared</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="index.html">salty</a></h2><div id="sidebar-vars" data-name="FieldImplementation" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="index.html">salty</a>::<wbr><a class="trait" href="#">FieldImplementation</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/salty/field.rs.html#43-137" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait FieldImplementation <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="../subtle/trait.ConditionallySelectable.html" title="trait subtle::ConditionallySelectable">ConditionallySelectable</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;for&lt;'b&gt; Self: <a class="trait" href="../subtle/trait.ConstantTimeEq.html" title="trait subtle::ConstantTimeEq">ConstantTimeEq</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;for&lt;'a, 'b&gt; &amp;'a Self: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/ops/arith/trait.Add.html" title="trait core::ops::arith::Add">Add</a>&lt;&amp;'b Self, Output = Self&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;for&lt;'b&gt; Self: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/ops/arith/trait.AddAssign.html" title="trait core::ops::arith::AddAssign">AddAssign</a>&lt;&amp;'b Self&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;for&lt;'a&gt; &amp;'a Self: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/ops/arith/trait.Neg.html" title="trait core::ops::arith::Neg">Neg</a>&lt;Output = Self&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;for&lt;'a, 'b&gt; &amp;'a Self: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/ops/arith/trait.Sub.html" title="trait core::ops::arith::Sub">Sub</a>&lt;&amp;'b Self, Output = Self&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;for&lt;'b&gt; Self: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/ops/arith/trait.SubAssign.html" title="trait core::ops::arith::SubAssign">SubAssign</a>&lt;&amp;'b Self&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;for&lt;'a, 'b&gt; &amp;'a Self: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/ops/arith/trait.Mul.html" title="trait core::ops::arith::Mul">Mul</a>&lt;&amp;'b Self, Output = Self&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;for&lt;'b&gt; Self: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/ops/arith/trait.MulAssign.html" title="trait core::ops::arith::MulAssign">MulAssign</a>&lt;&amp;'b Self&gt;,&nbsp;</span>{
    type <a href="#associatedtype.Limbs" class="type">Limbs</a>;

    const <a href="#associatedconstant.ZERO" class="constant">ZERO</a>: Self;
    const <a href="#associatedconstant.ONE" class="constant">ONE</a>: Self;
    const <a href="#associatedconstant.D" class="constant">D</a>: Self;
    const <a href="#associatedconstant.D2" class="constant">D2</a>: Self;
    const <a href="#associatedconstant.APLUS2_OVER_FOUR" class="constant">APLUS2_OVER_FOUR</a>: Self;
    const <a href="#associatedconstant.EDWARDS_BASEPOINT_X" class="constant">EDWARDS_BASEPOINT_X</a>: Self;
    const <a href="#associatedconstant.EDWARDS_BASEPOINT_Y" class="constant">EDWARDS_BASEPOINT_Y</a>: Self;
    const <a href="#associatedconstant.I" class="constant">I</a>: Self;
    const <a href="#associatedconstant.MONTGOMERY_BASEPOINT_U" class="constant">MONTGOMERY_BASEPOINT_U</a>: Self;

    fn <a href="#tymethod.to_bytes" class="fnname">to_bytes</a>(&amp;self) -&gt; [u8; 32];
<div class="item-spacer"></div>    fn <a href="#tymethod.from_bytes_unchecked" class="fnname">from_bytes_unchecked</a>(bytes: &amp;[u8; 32]) -&gt; Self;
<div class="item-spacer"></div>    fn <a href="#tymethod.inverse" class="fnname">inverse</a>(&amp;self) -&gt; Self;
<div class="item-spacer"></div>    fn <a href="#tymethod.pow2523" class="fnname">pow2523</a>(&amp;self) -&gt; Self;

    fn <a href="#method.from_unreduced_bytes" class="fnname">from_unreduced_bytes</a>(bytes: &amp;[u8; 32]) -&gt; Self { ... }
<div class="item-spacer"></div>    fn <a href="#method.from_bytes" class="fnname">from_bytes</a>(bytes: &amp;[u8; 32]) -&gt; <a class="type" href="type.Result.html" title="type salty::Result">Result</a>&lt;Self&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.parity" class="fnname">parity</a>(&amp;self) -&gt; u8 { ... }
<div class="item-spacer"></div>    fn <a href="#method.squared" class="fnname">squared</a>(&amp;self) -&gt; Self { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Requirements on an implementation of the base field.</p>
<p>There are <em>many</em> ways to implement field arithmetic in
the base field of integers modulo 2**255 - 19.</p>
<p>This trait specifies our requirements, such that end users
can experiment with their own ideas.</p>
<p>This crate, as of now, offers two implementations:</p>
<ul>
<li>TweetNaCl: a transliteration of the TweetNaCl code to Rust</li>
<li>Haase: a fast implementation in assembly, due to Bjoern Haase</li>
</ul>
<p>Planned: Schoolbook: our own attempt at a fast yet readable implementation</p>
<p>Originally, the plan was to have everything generic over the field
implementation, so far we have not been successful in convincing the Rust
compiler of this. Therefore, currently the implementations must be selected
at compile time using feature flags.</p>
</div></details><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Limbs" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#72" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.Limbs" class="type">Limbs</a></h4></div></summary><div class="docblock"><p>Internal representation as limbs</p>
</div></details></div><h2 id="associated-const" class="small-section-header">Associated Constants<a href="#associated-const" class="anchor"></a></h2><div class="methods"><div id="associatedconstant.ZERO" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#76" title="goto source code">[src]</a></div><h4 class="code-header">const <a href="#associatedconstant.ZERO" class="constant">ZERO</a>: Self</h4></div><div id="associatedconstant.ONE" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#77" title="goto source code">[src]</a></div><h4 class="code-header">const <a href="#associatedconstant.ONE" class="constant">ONE</a>: Self</h4></div><div id="associatedconstant.D" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#78" title="goto source code">[src]</a></div><h4 class="code-header">const <a href="#associatedconstant.D" class="constant">D</a>: Self</h4></div><div id="associatedconstant.D2" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#79" title="goto source code">[src]</a></div><h4 class="code-header">const <a href="#associatedconstant.D2" class="constant">D2</a>: Self</h4></div><div id="associatedconstant.APLUS2_OVER_FOUR" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#80" title="goto source code">[src]</a></div><h4 class="code-header">const <a href="#associatedconstant.APLUS2_OVER_FOUR" class="constant">APLUS2_OVER_FOUR</a>: Self</h4></div><div id="associatedconstant.EDWARDS_BASEPOINT_X" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#81" title="goto source code">[src]</a></div><h4 class="code-header">const <a href="#associatedconstant.EDWARDS_BASEPOINT_X" class="constant">EDWARDS_BASEPOINT_X</a>: Self</h4></div><div id="associatedconstant.EDWARDS_BASEPOINT_Y" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#82" title="goto source code">[src]</a></div><h4 class="code-header">const <a href="#associatedconstant.EDWARDS_BASEPOINT_Y" class="constant">EDWARDS_BASEPOINT_Y</a>: Self</h4></div><div id="associatedconstant.I" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#83" title="goto source code">[src]</a></div><h4 class="code-header">const <a href="#associatedconstant.I" class="constant">I</a>: Self</h4></div><div id="associatedconstant.MONTGOMERY_BASEPOINT_U" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#84" title="goto source code">[src]</a></div><h4 class="code-header">const <a href="#associatedconstant.MONTGOMERY_BASEPOINT_U" class="constant">MONTGOMERY_BASEPOINT_U</a>: Self</h4></div></div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.to_bytes" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#99" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.to_bytes" class="fnname">to_bytes</a>(&amp;self) -&gt; [u8; 32]</h4></div></summary><div class="docblock"><p>to canonical representation as little-endian bytes</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.from_bytes_unchecked" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#108" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.from_bytes_unchecked" class="fnname">from_bytes_unchecked</a>(bytes: &amp;[u8; 32]) -&gt; Self</h4></div></summary><div class="docblock"><p>construct from canonical representation as little-endian bytes</p>
</div></details><div id="tymethod.inverse" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#134" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.inverse" class="fnname">inverse</a>(&amp;self) -&gt; Self</h4></div><div id="tymethod.pow2523" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#135" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.pow2523" class="fnname">pow2523</a>(&amp;self) -&gt; Self</h4></div></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.from_unreduced_bytes" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#102-105" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.from_unreduced_bytes" class="fnname">from_unreduced_bytes</a>(bytes: &amp;[u8; 32]) -&gt; Self</h4></div></summary><div class="docblock"><p>construct from possibly non-canonical representation as little-endian bytes</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.from_bytes" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#111-120" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.from_bytes" class="fnname">from_bytes</a>(bytes: &amp;[u8; 32]) -&gt; <a class="type" href="type.Result.html" title="type salty::Result">Result</a>&lt;Self&gt;</h4></div></summary><div class="docblock"><p>construct from canonical representation as little-endian bytes, with validity check</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.parity" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#123-126" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.parity" class="fnname">parity</a>(&amp;self) -&gt; u8</h4></div></summary><div class="docblock"><p>parity of field element, viewed as integer modulo 2**255 - 19</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.squared" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field.rs.html#130-132" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.squared" class="fnname">squared</a>(&amp;self) -&gt; Self</h4></div></summary><div class="docblock"><p>default implementation, actual implementation may override
this with a faster version</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><details class="rustdoc-toggle implementors-toggle"><summary><div id="impl-FieldImplementation" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field/tweetnacl.rs.html#50-225" title="goto source code">[src]</a></div><a href="#impl-FieldImplementation" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.FieldImplementation.html" title="trait salty::FieldImplementation">FieldImplementation</a> for <a class="struct" href="struct.FieldElement.html" title="struct salty::FieldElement">FieldElement</a></h3></div></summary><div class="impl-items"><div id="associatedtype.Limbs-1" class="type trait-impl has-srclink"><a href="#associatedtype.Limbs-1" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.Limbs" class="type">Limbs</a> = [i64; 16]</h4></div><div id="associatedconstant.ZERO-1" class="associatedconstant trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field/tweetnacl.rs.html#53-58" title="goto source code">[src]</a></div><a href="#associatedconstant.ZERO-1" class="anchor"></a><h4 class="code-header">const <a href="#associatedconstant.ZERO" class="constant">ZERO</a>: Self</h4></div><div id="associatedconstant.ONE-1" class="associatedconstant trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field/tweetnacl.rs.html#60-65" title="goto source code">[src]</a></div><a href="#associatedconstant.ONE-1" class="anchor"></a><h4 class="code-header">const <a href="#associatedconstant.ONE" class="constant">ONE</a>: Self</h4></div><div id="associatedconstant.D-1" class="associatedconstant trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field/tweetnacl.rs.html#67-72" title="goto source code">[src]</a></div><a href="#associatedconstant.D-1" class="anchor"></a><h4 class="code-header">const <a href="#associatedconstant.D" class="constant">D</a>: Self</h4></div><div id="associatedconstant.D2-1" class="associatedconstant trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field/tweetnacl.rs.html#74-79" title="goto source code">[src]</a></div><a href="#associatedconstant.D2-1" class="anchor"></a><h4 class="code-header">const <a href="#associatedconstant.D2" class="constant">D2</a>: Self</h4></div><div id="associatedconstant.EDWARDS_BASEPOINT_X-1" class="associatedconstant trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field/tweetnacl.rs.html#81-86" title="goto source code">[src]</a></div><a href="#associatedconstant.EDWARDS_BASEPOINT_X-1" class="anchor"></a><h4 class="code-header">const <a href="#associatedconstant.EDWARDS_BASEPOINT_X" class="constant">EDWARDS_BASEPOINT_X</a>: Self</h4></div><div id="associatedconstant.EDWARDS_BASEPOINT_Y-1" class="associatedconstant trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field/tweetnacl.rs.html#88-93" title="goto source code">[src]</a></div><a href="#associatedconstant.EDWARDS_BASEPOINT_Y-1" class="anchor"></a><h4 class="code-header">const <a href="#associatedconstant.EDWARDS_BASEPOINT_Y" class="constant">EDWARDS_BASEPOINT_Y</a>: Self</h4></div><div id="associatedconstant.I-1" class="associatedconstant trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field/tweetnacl.rs.html#95-100" title="goto source code">[src]</a></div><a href="#associatedconstant.I-1" class="anchor"></a><h4 class="code-header">const <a href="#associatedconstant.I" class="constant">I</a>: Self</h4></div><div id="associatedconstant.APLUS2_OVER_FOUR-1" class="associatedconstant trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field/tweetnacl.rs.html#102-107" title="goto source code">[src]</a></div><a href="#associatedconstant.APLUS2_OVER_FOUR-1" class="anchor"></a><h4 class="code-header">const <a href="#associatedconstant.APLUS2_OVER_FOUR" class="constant">APLUS2_OVER_FOUR</a>: Self</h4></div><div id="associatedconstant.MONTGOMERY_BASEPOINT_U-1" class="associatedconstant trait-impl has-srclink"><div class="rightside"><a class="srclink" href="../src/salty/field/tweetnacl.rs.html#109-114" title="goto source code">[src]</a></div><a href="#associatedconstant.MONTGOMERY_BASEPOINT_U-1" class="anchor"></a><h4 class="code-header">const <a href="#associatedconstant.MONTGOMERY_BASEPOINT_U" class="constant">MONTGOMERY_BASEPOINT_U</a>: Self</h4></div></div></details></div><script type="text/javascript" src="../implementors/salty/trait.FieldImplementation.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="salty" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>