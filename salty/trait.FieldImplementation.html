<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Requirements on an implementation of the base field."><title>FieldImplementation in salty - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-b0742ba02757f159.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="salty" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0 (90b35a623 2024-11-26)" data-channel="1.83.0" data-search-js="search-f0d225181b97f9a4.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-f070b9041d14864c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../salty/index.html">salty</a><span class="version">0.3.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Field<wbr>Implementation</a></h2><h3><a href="#required-associated-consts">Required Associated Constants</a></h3><ul class="block"><li><a href="#associatedconstant.APLUS2_OVER_FOUR" title="APLUS2_OVER_FOUR">APLUS2_OVER_FOUR</a></li><li><a href="#associatedconstant.D" title="D">D</a></li><li><a href="#associatedconstant.D2" title="D2">D2</a></li><li><a href="#associatedconstant.EDWARDS_BASEPOINT_X" title="EDWARDS_BASEPOINT_X">EDWARDS_BASEPOINT_X</a></li><li><a href="#associatedconstant.EDWARDS_BASEPOINT_Y" title="EDWARDS_BASEPOINT_Y">EDWARDS_BASEPOINT_Y</a></li><li><a href="#associatedconstant.I" title="I">I</a></li><li><a href="#associatedconstant.MONTGOMERY_BASEPOINT_U" title="MONTGOMERY_BASEPOINT_U">MONTGOMERY_BASEPOINT_U</a></li><li><a href="#associatedconstant.ONE" title="ONE">ONE</a></li><li><a href="#associatedconstant.ZERO" title="ZERO">ZERO</a></li></ul><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Limbs" title="Limbs">Limbs</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.from_bytes_unchecked" title="from_bytes_unchecked">from_bytes_unchecked</a></li><li><a href="#tymethod.inverse" title="inverse">inverse</a></li><li><a href="#tymethod.pow2523" title="pow2523">pow2523</a></li><li><a href="#tymethod.to_bytes" title="to_bytes">to_bytes</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.from_bytes" title="from_bytes">from_bytes</a></li><li><a href="#method.from_unreduced_bytes" title="from_unreduced_bytes">from_unreduced_bytes</a></li><li><a href="#method.parity" title="parity">parity</a></li><li><a href="#method.squared" title="squared">squared</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate salty</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="index.html">salty</a></span><h1>Trait <span class="trait">FieldImplementation</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/salty/field.rs.html#29-120">source</a> </span></div><pre class="rust item-decl"><code>pub trait FieldImplementation<div class="where">where
    for&lt;'b, 'b, 'b, 'b&gt; Self: <a class="trait" href="https://doc.rust-lang.org/1.83.0/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a> + <a class="trait" href="https://doc.rust-lang.org/1.83.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> + <a class="trait" href="../subtle/trait.ConditionallySelectable.html" title="trait subtle::ConditionallySelectable">ConditionallySelectable</a> + <a class="trait" href="../subtle/trait.ConstantTimeEq.html" title="trait subtle::ConstantTimeEq">ConstantTimeEq</a> + <a class="trait" href="https://doc.rust-lang.org/1.83.0/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a> + <a class="trait" href="https://doc.rust-lang.org/1.83.0/core/ops/arith/trait.AddAssign.html" title="trait core::ops::arith::AddAssign">AddAssign</a>&lt;&amp;'b Self&gt; + <a class="trait" href="https://doc.rust-lang.org/1.83.0/core/ops/arith/trait.SubAssign.html" title="trait core::ops::arith::SubAssign">SubAssign</a>&lt;&amp;'b Self&gt; + <a class="trait" href="https://doc.rust-lang.org/1.83.0/core/ops/arith/trait.MulAssign.html" title="trait core::ops::arith::MulAssign">MulAssign</a>&lt;&amp;'b Self&gt;,
    for&lt;'a, 'b, 'a, 'a, 'b, 'a, 'b&gt; &amp;'a Self: <a class="trait" href="https://doc.rust-lang.org/1.83.0/core/ops/arith/trait.Add.html" title="trait core::ops::arith::Add">Add</a>&lt;&amp;'b Self, Output = Self&gt; + <a class="trait" href="https://doc.rust-lang.org/1.83.0/core/ops/arith/trait.Neg.html" title="trait core::ops::arith::Neg">Neg</a>&lt;Output = Self&gt; + <a class="trait" href="https://doc.rust-lang.org/1.83.0/core/ops/arith/trait.Sub.html" title="trait core::ops::arith::Sub">Sub</a>&lt;&amp;'b Self, Output = Self&gt; + <a class="trait" href="https://doc.rust-lang.org/1.83.0/core/ops/arith/trait.Mul.html" title="trait core::ops::arith::Mul">Mul</a>&lt;&amp;'b Self, Output = Self&gt;,</div>{
    type <a href="#associatedtype.Limbs" class="associatedtype">Limbs</a>;

    const <a href="#associatedconstant.ZERO" class="constant">ZERO</a>: Self;
    const <a href="#associatedconstant.ONE" class="constant">ONE</a>: Self;
    const <a href="#associatedconstant.D" class="constant">D</a>: Self;
    const <a href="#associatedconstant.D2" class="constant">D2</a>: Self;
    const <a href="#associatedconstant.APLUS2_OVER_FOUR" class="constant">APLUS2_OVER_FOUR</a>: Self;
    const <a href="#associatedconstant.EDWARDS_BASEPOINT_X" class="constant">EDWARDS_BASEPOINT_X</a>: Self;
    const <a href="#associatedconstant.EDWARDS_BASEPOINT_Y" class="constant">EDWARDS_BASEPOINT_Y</a>: Self;
    const <a href="#associatedconstant.I" class="constant">I</a>: Self;
    const <a href="#associatedconstant.MONTGOMERY_BASEPOINT_U" class="constant">MONTGOMERY_BASEPOINT_U</a>: Self;

    // Required methods
    fn <a href="#tymethod.to_bytes" class="fn">to_bytes</a>(&amp;self) -&gt; [<a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.array.html">32</a>];
<span class="item-spacer"></span>    fn <a href="#tymethod.from_bytes_unchecked" class="fn">from_bytes_unchecked</a>(bytes: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.array.html">32</a>]) -&gt; Self;
<span class="item-spacer"></span>    fn <a href="#tymethod.inverse" class="fn">inverse</a>(&amp;self) -&gt; Self;
<span class="item-spacer"></span>    fn <a href="#tymethod.pow2523" class="fn">pow2523</a>(&amp;self) -&gt; Self;

    // Provided methods
    fn <a href="#method.from_unreduced_bytes" class="fn">from_unreduced_bytes</a>(bytes: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.array.html">32</a>]) -&gt; Self { ... }
<span class="item-spacer"></span>    fn <a href="#method.from_bytes" class="fn">from_bytes</a>(bytes: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.array.html">32</a>]) -&gt; <a class="type" href="type.Result.html" title="type salty::Result">Result</a>&lt;Self&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.parity" class="fn">parity</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.u8.html">u8</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.squared" class="fn">squared</a>(&amp;self) -&gt; Self { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Requirements on an implementation of the base field.</p>
<p>There are <em>many</em> ways to implement field arithmetic in
the base field of integers modulo 2**255 - 19.</p>
<p>This trait specifies our requirements, such that end users
can experiment with their own ideas.</p>
<p>This crate, as of now, offers two implementations:</p>
<ul>
<li>TweetNaCl: a transliteration of the TweetNaCl code to Rust</li>
<li>Haase: a fast implementation in assembly, due to Bjoern Haase</li>
</ul>
<p>Planned: Schoolbook: our own attempt at a fast yet readable implementation</p>
<p>Originally, the plan was to have everything generic over the field
implementation, so far we have not been successful in convincing the Rust
compiler of this. Therefore, currently the implementations must be selected
at compile time using feature flags.</p>
</div></details><h2 id="required-associated-consts" class="section-header">Required Associated Constants<a href="#required-associated-consts" class="anchor">§</a></h2><div class="methods"><section id="associatedconstant.ZERO" class="method"><a class="src rightside" href="../src/salty/field.rs.html#60">source</a><h4 class="code-header">const <a href="#associatedconstant.ZERO" class="constant">ZERO</a>: Self</h4></section><section id="associatedconstant.ONE" class="method"><a class="src rightside" href="../src/salty/field.rs.html#61">source</a><h4 class="code-header">const <a href="#associatedconstant.ONE" class="constant">ONE</a>: Self</h4></section><section id="associatedconstant.D" class="method"><a class="src rightside" href="../src/salty/field.rs.html#62">source</a><h4 class="code-header">const <a href="#associatedconstant.D" class="constant">D</a>: Self</h4></section><section id="associatedconstant.D2" class="method"><a class="src rightside" href="../src/salty/field.rs.html#63">source</a><h4 class="code-header">const <a href="#associatedconstant.D2" class="constant">D2</a>: Self</h4></section><section id="associatedconstant.APLUS2_OVER_FOUR" class="method"><a class="src rightside" href="../src/salty/field.rs.html#64">source</a><h4 class="code-header">const <a href="#associatedconstant.APLUS2_OVER_FOUR" class="constant">APLUS2_OVER_FOUR</a>: Self</h4></section><section id="associatedconstant.EDWARDS_BASEPOINT_X" class="method"><a class="src rightside" href="../src/salty/field.rs.html#65">source</a><h4 class="code-header">const <a href="#associatedconstant.EDWARDS_BASEPOINT_X" class="constant">EDWARDS_BASEPOINT_X</a>: Self</h4></section><section id="associatedconstant.EDWARDS_BASEPOINT_Y" class="method"><a class="src rightside" href="../src/salty/field.rs.html#66">source</a><h4 class="code-header">const <a href="#associatedconstant.EDWARDS_BASEPOINT_Y" class="constant">EDWARDS_BASEPOINT_Y</a>: Self</h4></section><section id="associatedconstant.I" class="method"><a class="src rightside" href="../src/salty/field.rs.html#67">source</a><h4 class="code-header">const <a href="#associatedconstant.I" class="constant">I</a>: Self</h4></section><section id="associatedconstant.MONTGOMERY_BASEPOINT_U" class="method"><a class="src rightside" href="../src/salty/field.rs.html#68">source</a><h4 class="code-header">const <a href="#associatedconstant.MONTGOMERY_BASEPOINT_U" class="constant">MONTGOMERY_BASEPOINT_U</a>: Self</h4></section></div><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Limbs" class="method"><a class="src rightside" href="../src/salty/field.rs.html#56">source</a><h4 class="code-header">type <a href="#associatedtype.Limbs" class="associatedtype">Limbs</a></h4></section></summary><div class="docblock"><p>Internal representation as limbs</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.to_bytes" class="method"><a class="src rightside" href="../src/salty/field.rs.html#83">source</a><h4 class="code-header">fn <a href="#tymethod.to_bytes" class="fn">to_bytes</a>(&amp;self) -&gt; [<a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.array.html">32</a>]</h4></section></summary><div class="docblock"><p>to canonical representation as little-endian bytes</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.from_bytes_unchecked" class="method"><a class="src rightside" href="../src/salty/field.rs.html#92">source</a><h4 class="code-header">fn <a href="#tymethod.from_bytes_unchecked" class="fn">from_bytes_unchecked</a>(bytes: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.array.html">32</a>]) -&gt; Self</h4></section></summary><div class="docblock"><p>construct from canonical representation as little-endian bytes</p>
</div></details><section id="tymethod.inverse" class="method"><a class="src rightside" href="../src/salty/field.rs.html#118">source</a><h4 class="code-header">fn <a href="#tymethod.inverse" class="fn">inverse</a>(&amp;self) -&gt; Self</h4></section><section id="tymethod.pow2523" class="method"><a class="src rightside" href="../src/salty/field.rs.html#119">source</a><h4 class="code-header">fn <a href="#tymethod.pow2523" class="fn">pow2523</a>(&amp;self) -&gt; Self</h4></section></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.from_unreduced_bytes" class="method"><a class="src rightside" href="../src/salty/field.rs.html#86-89">source</a><h4 class="code-header">fn <a href="#method.from_unreduced_bytes" class="fn">from_unreduced_bytes</a>(bytes: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.array.html">32</a>]) -&gt; Self</h4></section></summary><div class="docblock"><p>construct from possibly non-canonical representation as little-endian bytes</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.from_bytes" class="method"><a class="src rightside" href="../src/salty/field.rs.html#95-104">source</a><h4 class="code-header">fn <a href="#method.from_bytes" class="fn">from_bytes</a>(bytes: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.u8.html">u8</a>; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.array.html">32</a>]) -&gt; <a class="type" href="type.Result.html" title="type salty::Result">Result</a>&lt;Self&gt;</h4></section></summary><div class="docblock"><p>construct from canonical representation as little-endian bytes, with validity check</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.parity" class="method"><a class="src rightside" href="../src/salty/field.rs.html#107-110">source</a><h4 class="code-header">fn <a href="#method.parity" class="fn">parity</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.u8.html">u8</a></h4></section></summary><div class="docblock"><p>parity of field element, viewed as integer modulo 2**255 - 19</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.squared" class="method"><a class="src rightside" href="../src/salty/field.rs.html#114-116">source</a><h4 class="code-header">fn <a href="#method.squared" class="fn">squared</a>(&amp;self) -&gt; Self</h4></section></summary><div class="docblock"><p>default implementation, actual implementation may override
this with a faster version</p>
</div></details></div><h2 id="object-safety" class="section-header">Object Safety<a href="#object-safety" class="anchor">§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.83.0/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-FieldImplementation-for-FieldElement" class="impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#39-183">source</a><a href="#impl-FieldImplementation-for-FieldElement" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.FieldImplementation.html" title="trait salty::FieldImplementation">FieldImplementation</a> for <a class="struct" href="struct.FieldElement.html" title="struct salty::FieldElement">FieldElement</a></h3></section></summary><div class="impl-items"><section id="associatedconstant.ZERO-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#42">source</a><a href="#associatedconstant.ZERO-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.ZERO" class="constant">ZERO</a>: Self = _</h4></section><section id="associatedconstant.ONE-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#44">source</a><a href="#associatedconstant.ONE-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.ONE" class="constant">ONE</a>: Self = _</h4></section><section id="associatedconstant.D-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#46-49">source</a><a href="#associatedconstant.D-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.D" class="constant">D</a>: Self = _</h4></section><section id="associatedconstant.D2-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#51-54">source</a><a href="#associatedconstant.D2-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.D2" class="constant">D2</a>: Self = _</h4></section><section id="associatedconstant.EDWARDS_BASEPOINT_X-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#56-59">source</a><a href="#associatedconstant.EDWARDS_BASEPOINT_X-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.EDWARDS_BASEPOINT_X" class="constant">EDWARDS_BASEPOINT_X</a>: Self = _</h4></section><section id="associatedconstant.EDWARDS_BASEPOINT_Y-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#61-64">source</a><a href="#associatedconstant.EDWARDS_BASEPOINT_Y-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.EDWARDS_BASEPOINT_Y" class="constant">EDWARDS_BASEPOINT_Y</a>: Self = _</h4></section><section id="associatedconstant.I-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#66-69">source</a><a href="#associatedconstant.I-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.I" class="constant">I</a>: Self = _</h4></section><section id="associatedconstant.APLUS2_OVER_FOUR-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#71">source</a><a href="#associatedconstant.APLUS2_OVER_FOUR-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.APLUS2_OVER_FOUR" class="constant">APLUS2_OVER_FOUR</a>: Self = _</h4></section><section id="associatedconstant.MONTGOMERY_BASEPOINT_U-1" class="associatedconstant trait-impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#73">source</a><a href="#associatedconstant.MONTGOMERY_BASEPOINT_U-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.MONTGOMERY_BASEPOINT_U" class="constant">MONTGOMERY_BASEPOINT_U</a>: Self = _</h4></section><section id="associatedtype.Limbs-1" class="associatedtype trait-impl"><a class="src rightside" href="../src/salty/field/tweetnacl.rs.html#40">source</a><a href="#associatedtype.Limbs-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Limbs" class="associatedtype">Limbs</a> = [<a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.i64.html">i64</a>; <a class="primitive" href="https://doc.rust-lang.org/1.83.0/core/primitive.array.html">16</a>]</h4></section></div></details></div><script src="../trait.impl/salty/field/trait.FieldImplementation.js" async></script></section></div></main></body></html>